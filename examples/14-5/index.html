<!DOCTYPE HTML>
<html lang="en-us">
	<head>
		<title>Example 14-5</title>
		<meta charset="utf-8">
		<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
		<script>
			var menuOpen = false;
			window.onload = function () {
				// Bind the clicking event to the first <a> of the menu
				$('nav > a:first-of-type').on('click', function () {
					// Get all the menu items (non-first <a>)
					let menuItems = $('nav > a:not(:first-of-type)');
					// Use each() to play different tricks for each non-first <a>
					// The function executed in each() receives a number specifying
					// which <a> is being process, which starts at 0 (the first <a>).
					menuItems.each(function (index) {
						/* We can use the jQuery function delay() before applying
						   any specific convenient animation function. delay() takes
						   a numeric value that specifies the length of the delay in
						   ms. In the statement below, the length of delay is the
						   index number multipled by 500, so the menu items show/hide
						   gradually, one by one, from left to right. You can compare
						   this example to Example 12-2, in which the same effect was
						   done with setTimeout(), but the codes are more complicated.
						 */
						if(menuOpen) {
							$(this).delay(1000 / (index + 1)).fadeToggle();
							menuOpen = false;
						}
						else {
							$(this).delay(index * 500).fadeToggle();
							menuOpen = true;
						}
					});
				});
			};
		</script>
		<style>
			/* Check previous examples for how the menu is styled. */
			nav > a {
				padding: 2px 10px;
				background-color: darkgray;
				color: black;
				font-size: 150%;
				font-family: sans-serif;
			}

			nav > a:not(:first-of-type) {
				display: none;
				border-left: 2px solid white;
			}
		</style>
	</head>
	<body>
		<nav>
			<a><span>+</span></a><a>Item 1</a><a>Item 2</a><a>Item 3</a>
		</nav>
	</body>
</html>